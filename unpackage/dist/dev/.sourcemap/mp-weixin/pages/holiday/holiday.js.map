{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/10102/Desktop/HolidayCalender/开源/Holiday-Calendar-master/pages/holiday/holiday.vue?cc62","webpack:///C:/Users/10102/Desktop/HolidayCalender/开源/Holiday-Calendar-master/pages/holiday/holiday.vue?f45e","webpack:///C:/Users/10102/Desktop/HolidayCalender/开源/Holiday-Calendar-master/pages/holiday/holiday.vue?0f2b","uni-app:///pages/holiday/holiday.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","require","Solar","HolidayUtil","data","showHolidays","onLoad","onReady","onShow","methods","render","curTarget","curBuNum","buDays","curJiaNum","jiaDayBegin","jiaDayEnd","isCurHo","isC","curName","formatDay","onShareAppMessage","console","title","path","mpId","onShareTimeline","scrollPosition","uni","scrollTop","duration"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AACmO;AACnO,gBAAgB,iOAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAo6B,CAAgB,q3BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2Bx7B,eAGAC;EAFAC;EACAC;AACA,eAEA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;EACA;;EACAC;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;UACAC;UACA;YACAC;YACAC;UACA;YACAC;YACA;cACAC;YACA;YACAC;UACA;QACA;QACA;QACA;UACA;YACA;YACA;YACA;cACAC;cACAC;YACA;YACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;YACA;UACA;UACAP;UACAQ;UACAJ;UACAC;UACAH;UACA;YACAD;YACAE;YACAD;UACA;YACAD;YACAE;YACA;cACAC;YACA;YACAC;UACA;QACA;QACA;QACA;UACA;YACA;YACA;YACA;cACAC;cACAC;YACA;YACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAE;MACA;IACA;IACA;IACAC;MACA;QAAA;QACAC;MACA;MACA;QACAC;QACAC;QACAC;MACA;IACA;IACAC;MACA;QAAA;QACAJ;MACA;MACA;QACAC;QACAC;QACAC;MACA;IACA;IACA;IACAE;MACAC;QACAC;QACAC;MACA;MACAF;QACA;UACAA;YACAC;YACAC;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B","file":"pages/holiday/holiday.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/holiday/holiday.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./holiday.vue?vue&type=template&id=5f41b490&\"\nvar renderjs\nimport script from \"./holiday.vue?vue&type=script&lang=js&\"\nexport * from \"./holiday.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/holiday/holiday.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./holiday.vue?vue&type=template&id=5f41b490&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.showHolidays, function (item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n    var g0 = new Date(item.jiaDayBegin).format(\"MM-dd\")\n    var g1 = new Date(item.jiaDayBegin).format(\"MM月dd日\")\n    var g2 = new Date(item.jiaDayEnd).format(\"MM月dd日\")\n    var g3 = item.buDays.join(\"、\")\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1,\n      g2: g2,\n      g3: g3,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./holiday.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../001software/0037HBuilderX/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./holiday.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"bg-white\">\n\t\t<!-- 在<view class=\"bg-white\">元素内部，使用v-for指令循环遍历showHolidays数组，并为每个项目渲染一个<view class=\"cu-timeline\">元素。 -->\n\t\t<view class=\"cu-timeline\" v-for='item in showHolidays' v-bind:key='item.key' >\n\t\t\t<view class=\"cu-time\">{{new Date(item.jiaDayBegin).format(\"MM-dd\")}}</view>\n\t\t\t<view class=\"cu-item \" :class=\"{'text-blue cuIcon-roundcheckfill':item.cur,'cuIcon-emoji':(!item.cur&&item.ju<0),'cuIcon-loading':(!item.cur&&item.ju>0)}\">\n\t\t\t\t<view class=\"content shadow-blur\" :class=\"{'bg-green light':item.cur,'bg-blue light':(!item.cur&&item.ju>0)}\">\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<text v-if=\"item.ju > 0\" class=\"cu-tag badge round light  line-red\"><text class=\"text-df\">{{item.ju}}</text>天</text>\n\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t<text class=\"text-red text-shadow text-bold padding-right-xs\">{{item.name}}</text>\n\t\t\t\t\t\t\t<text>放假<text class=\"text-orange text-lg text-bold padding-right-xs padding-left-xs\">{{item.jia}}</text>天</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t<text>假期：</text><text>{{new Date(item.jiaDayBegin).format(\"MM月dd日\")}}-{{new Date(item.jiaDayEnd).format(\"MM月dd日\")}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t<text v-if=\"item.bu > 0\">补班：</text><text>{{item.buDays.join('、')}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\tconst {\n\t\tSolar,\n\t\tHolidayUtil\n\t} = require('@/common/lunar.js');\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshowHolidays: []\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.render(); \t\t\t// 在组件加载时执行的逻辑\n\t\t},\n\t\tonReady() {\n\t\t\tthis.scrollPosition();  // 在组件准备完毕时执行的逻辑\n\t\t},\n\t\tonShow() {\n\t\t\tthis.scrollPosition(); \t// 在组件显示时执行的逻辑\n\t\t},\n\t\tmethods: {\n\t\t\trender() {\t\t\t\t// 渲染假期数据的方法\n\t\t\t\tthis.showHolidays = [];\n\t\t\t\tlet today = Solar.fromDate(new Date());\n\t\t\t\tlet holidays = HolidayUtil.getHolidays(new Date().getFullYear());\n\t\t\t\t// 遍历\n\t\t\t\tlet curTarget = '';\n\t\t\t\tlet jiaDayBegin = '';\n\t\t\t\tlet jiaDayEnd = '';\n\t\t\t\tlet buDays = [];\n\t\t\t\tlet curName = '';\n\t\t\t\tlet curBuNum = 0;\n\t\t\t\tlet curJiaNum = 0;\n\t\t\t\tlet isCurHo = false;\n\t\t\t\tfor (var i = 0; i < holidays.length; i++) {\n\t\t\t\t\t// console.log(holidays[i]);\n\t\t\t\t\t// 如果与上一次相同\n\t\t\t\t\tif (holidays[i].getTarget() == curTarget) {\n\t\t\t\t\t\tcurTarget = holidays[i].getTarget();\n\t\t\t\t\t\tif (holidays[i].isWork()) {\n\t\t\t\t\t\t\tcurBuNum++;\n\t\t\t\t\t\t\tbuDays.push(new Date(holidays[i].getDay()).format(\"MM月dd日\"));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurJiaNum++;\n\t\t\t\t\t\t\tif (jiaDayBegin == '') {\n\t\t\t\t\t\t\t\tjiaDayBegin = holidays[i].getDay();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tjiaDayEnd = holidays[i].getDay();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 如果这是一个新假期\n\t\t\t\t\tif (holidays[i].getTarget() != curTarget) {\n\t\t\t\t\t\tif (curTarget != '') {\n\t\t\t\t\t\t\tlet d = ((new Date(jiaDayBegin) - new Date(today)) / (1000 * 60 * 60 * 24));\n\t\t\t\t\t\t\tlet isC = false;\n\t\t\t\t\t\t\tif (!isCurHo && d >= 0) {\n\t\t\t\t\t\t\t\tisCurHo = true;\n\t\t\t\t\t\t\t\tisC = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.showHolidays.push({\n\t\t\t\t\t\t\t\t\"key\":i,\n\t\t\t\t\t\t\t\t\"name\": curName,\n\t\t\t\t\t\t\t\t\"target\": curTarget,\n\t\t\t\t\t\t\t\t\"bu\": curBuNum,\n\t\t\t\t\t\t\t\t\"jia\": curJiaNum,\n\t\t\t\t\t\t\t\t\"jiaDayBegin\": jiaDayBegin,\n\t\t\t\t\t\t\t\t\"jiaDayEnd\": jiaDayEnd,\n\t\t\t\t\t\t\t\t\"buDays\": buDays,\n\t\t\t\t\t\t\t\t\"ju\": d,\n\t\t\t\t\t\t\t\t\"cur\": isC\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurTarget = holidays[i].getTarget();\n\t\t\t\t\t\tcurName = holidays[i].getName();\n\t\t\t\t\t\tjiaDayBegin = '';\n\t\t\t\t\t\tjiaDayEnd = '';\n\t\t\t\t\t\tbuDays = [];\n\t\t\t\t\t\tif (holidays[i].isWork()) {\n\t\t\t\t\t\t\tcurBuNum = 1;\n\t\t\t\t\t\t\tcurJiaNum = 0;\n\t\t\t\t\t\t\tbuDays.push(new Date(holidays[i].getDay()).format(\"MM月dd日\"));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurBuNum = 0;\n\t\t\t\t\t\t\tcurJiaNum = 1;\n\t\t\t\t\t\t\tif (jiaDayBegin == '') {\n\t\t\t\t\t\t\t\tjiaDayBegin = holidays[i].getDay();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tjiaDayEnd = holidays[i].getDay();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 如果这是最后一个循环\n\t\t\t\t\tif (i == holidays.length - 1) {\n\t\t\t\t\t\tif (curTarget != '') {\n\t\t\t\t\t\t\tlet d = (new Date(jiaDayBegin) - new Date(today)) / (1000 * 60 * 60 * 24);\n\t\t\t\t\t\t\tlet isC = false;\n\t\t\t\t\t\t\tif (!isCurHo && d >= 0) {\n\t\t\t\t\t\t\t\tisCurHo = true;\n\t\t\t\t\t\t\t\tisC = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.showHolidays.push({\n\t\t\t\t\t\t\t\t\"key\":i,\n\t\t\t\t\t\t\t\t\"name\": curName,\n\t\t\t\t\t\t\t\t\"target\": curTarget,\n\t\t\t\t\t\t\t\t\"bu\": curBuNum,\n\t\t\t\t\t\t\t\t\"jia\": curJiaNum,\n\t\t\t\t\t\t\t\t\"jiaDayBegin\": jiaDayBegin,\n\t\t\t\t\t\t\t\t\"jiaDayEnd\": jiaDayEnd,\n\t\t\t\t\t\t\t\t\"buDays\": buDays,\n\t\t\t\t\t\t\t\t\"ju\": d,\n\t\t\t\t\t\t\t\t\"cur\": isC\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tformatDay(dayStr){\n\t\t\t\treturn \n\t\t\t},\n\t\t\t// onShareAppMessage()和onShareTimeline()方法定义了在分享组件时的行为。它们返回一个包含所需标题、路径和mpId（小程序ID）的对象来进行分享。\n\t\t\tonShareAppMessage(res) {\n\t\t\t    if (res.from === 'button') {// 来自页面内分享按钮\n\t\t\t      console.log(res.target)\n\t\t\t    }\n\t\t\t    return {\n\t\t\t      title: '离放假还有几天',\n\t\t\t      path: '/pages/holiday/holiday',\n\t\t\t\t  mpId: 'wxee05508955140bfd'\n\t\t\t    }\n\t\t\t  },\n\t\t\tonShareTimeline(res){\n\t\t\t  if (res.from === 'button') {// 来自页面内分享按钮\n\t\t\t\tconsole.log(res.target)\n\t\t\t  }\n\t\t\t  return {\n\t\t\t\ttitle: '离放假还有几天',\n\t\t\t\tpath: '/pages/holiday/holiday',\n\t\t\t\tmpId: 'wxee05508955140bfd'\n\t\t\t  }\n\t\t  },\n\t\t//   scrollPosition()方法将页面滚动到顶部，然后使用uni.createSelectorQuery()选择第一个具有\"class\"cuIcon-roundcheckfill\"的元素。如果找到该元素，则滚动到该元素的顶部。\n\t\t  scrollPosition(){\n\t\t\t  uni.pageScrollTo({\n\t\t\t  \tscrollTop:0,\n\t\t\t  \tduration:0\n\t\t\t  })\n\t\t\t uni.createSelectorQuery().select(\".cuIcon-roundcheckfill\").boundingClientRect(function(res){\n\t\t\t\tif(res){\n\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\tscrollTop:res.top,\n\t\t\t\t\t\tduration:300\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t }).exec();\n\t\t  },\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}